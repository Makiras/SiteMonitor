# SiteMonitor

一个监控站点运行情况与服务器运行状况的系统。预期技术栈为 Golang Server & Rust Client(Optional)

## Background

这几天经常因为手里的某个网站挂掉了而头疼，同时还有一些灵车服务器会莫名其妙的自启、爆内存、硬盘被吃满。打工人记着每个服务器上去检查简直太难了！简单在网上找了下轮子**好像**没有把两个功能做在一起足够轻量的（指服务端功能性轻量），就决定温习一下Golang再试试Rust到底为什么大🔥都说好。  
Golang做服务端，用Sqlite做数据库毕竟没啥并发省点资源，只做网站探测的话就可以不用客户端了。Rust做客户端就是看他效率能上C++而且内存操作还没那么麻烦。算是学习性项目，先把产品文档写出来再每天实现一部分，有兴趣的欢迎 issue 讨论 和 ~~PR(等我先写)~~

## Features
*斜体* 表示待考虑或对安全性有所忧虑的内容。
### Server
- [x] 简化系统暂时不考虑多用户
- [ ] 监控指定网站的状态
    * [ ] 监控固定地址可访问性
        + [ ] 登陆后检查
    * [ ] 多条件组合
    * [ ] *解析内容判断正确性*
- [ ] 记录状态
    * [ ] 网站状态记录
    * [ ] 服务器状态记录
- [ ] 服务异常报警
    * [x] Email
    * [ ] Telegram Bot
    * [ ] ~~Wechat~~
    * [ ] *SMS*
    * [ ] *DingTalk*
- [ ] 监控信息显示
    * [ ] 管理界面展示最近24h状态
    * [ ] 可选公开展示
    * [ ] *允许创建展示组(组内服务器一个页面)，并提供API*
- [ ] 服务器管理
    * [ ] 设置报警阈值
    * [ ] 查看客户端上报的信息
    * [ ] *升级系统软件包*
    * [ ] *重启*
- [ ] *允许设置代理*


### Client
- [ ] 上报服务器资源占用情况
    * [ ] 1,5,15min 负载
    * [ ] CPU
    * [ ] RAM (used & cached)
    * [ ] Storage (文件已用空间 & 文件系统使用率 & inode使用率)
- [ ] RAM超过指定阈值时上报进程详细情况
- [ ] 文件系统使用率超过阈值时查找大文件并上报
- [ ] 使用token注册到服务器
- [ ] *管理操作 如果有则单独做release* 
    * [ ] *升级系统软件包*
    * [ ] *重启*

